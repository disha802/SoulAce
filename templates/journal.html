<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SoulAce Journal</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body { margin:0; font-family:'Segoe UI',sans-serif; background:#F5F7F2; color:#333; transition:0.4s; }
    header { display:flex; justify-content:space-between; align-items:center; padding:10px 20px; background:#7B9B8B; }
    .header-left { display:flex; align-items:center; gap:15px; }
    .header-text h1 { margin:0; font-size:1.8rem; color:#fff; }
    .header-text h3 { margin:0; font-size:1rem; color:#FFF7E4; }
    .logo-container img { width:60px; height:60px; border-radius:50%; object-fit:cover; }
    .user-icon { width:40px; height:40px; border-radius:50%; cursor:pointer; }
    .user-popup { display:none; position:absolute; top:50px; right:0; background:#fff; border-radius:12px; padding:10px; min-width:160px; box-shadow:0 5px 15px rgba(0,0,0,0.2); }
    .popup-btn { display:block; width:100%; margin-bottom:8px; background:#fff; color:#243B36; font-weight:600; padding:10px; border:none; border-radius:8px; cursor:pointer; box-shadow:0 4px 6px rgba(0,0,0,0.2); text-align:left; }
    .popup-btn:hover { background:#f2f2f2; }
    main { padding:2rem; }
    h2 { color:#243B36; }
    input, textarea { width:100%; padding:12px; margin:12px 0; border-radius:10px; border:1px solid #ccc; font-size:1rem; box-sizing:border-box; }
    textarea { min-height:150px; max-height:500px; resize:none; overflow-y:hidden; }
    button { background:linear-gradient(135deg, #657A74 , #243B36); color:#fff; font-size:16px; font-weight:600; padding:10px 18px; border:none; border-radius:8px; cursor:pointer; box-shadow:0 4px 6px rgba(0,0,0,0.2); transition:all 0.3s ease; }
    button:hover { background:linear-gradient(45deg, #657A74 , #243B36); transform:translateY(-2px); }
    .tiles { display:flex; flex-wrap:wrap; gap:15px; margin-top:20px; }
    .tile { background:white; padding:15px; border-radius:12px; box-shadow:0 2px 6px rgba(0,0,0,0.1); width:220px; cursor:pointer; }
    .tile:hover { background:#f5f5f5; }
    #popup { display:none; position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); background:white; padding:20px; border-radius:12px; box-shadow:0 6px 15px rgba(0,0,0,0.3); width:400px; }
    .tab-container { display:flex; gap:10px; margin-bottom:15px; }
    .tab { padding:8px 16px; border-radius:8px; border:none; cursor:pointer; background:#ddd; }
    .tab.active { background:#657A74; color:white; }
    body.dark { background:#121212; color:#e0e0e0; }
    body.dark header { background:#1f1f1f; }
    body.dark .tile { background:#2a2a2a; color:#e0e0e0; }
    body.dark #popup { background:#2a2a2a; color:#e0e0e0; }
    body.dark .user-popup { background:#2a2a2a; color:#f9e6d0; border:1px solid #444; }
    .prompt-card { background:#f0f8f5; padding:15px; border-radius:12px; box-shadow:0 2px 6px rgba(0,0,0,0.1); margin-bottom:15px; }
    .prompt-card h4 { margin-top:0; }
  </style>
</head>
<body>
  <header>
    <div class="header-left">
      <div class="logo-container">
        <img src="{{ url_for('static', filename='header-logo.png') }}" alt="SoulAce Logo">
      </div>
      <div class="header-text">
        <h1 data-en="SoulAce" data-ur="ÿ≥ŸàŸÑ ÿß€åÿ≥" data-hi="‡§∏‡•ã‡§≤‡§è‡§∏">SoulAce</h1>
        <h3 data-en="Wellness begins here." data-ur="€å€Åÿß⁄∫ ÿ≥€í ŸÅŸÑÿßÿ≠ Ÿà ÿ®€Åÿ®ŸàÿØ ÿ¥ÿ±Ÿàÿπ €ÅŸàÿ™€å €Å€í€î" data-hi="‡§Ø‡§π‡§æ‡§Ç ‡§∏‡•á ‡§µ‡•á‡§≤‡§®‡•á‡§∏ ‡§∂‡•Å‡§∞‡•Ç ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡•§">Wellness begins here.</h3>
      </div>
    </div>
    <div class="header-right">
      <div class="user-icon-container">
        <img src="{{ url_for('static', filename='user-icon.jpeg') }}" alt="User Icon" class="user-icon" onclick="toggleUserPopup()">
        <div id="user-popup" class="user-popup">
          <div style="margin-bottom:10px;">
            <label for="lang-select" style="font-weight:bold;">üåê Language:</label>
            <select id="lang-select">
              <option value="en">English</option>
              <option value="ur">Urdu</option>
              <option value="hi">Hindi</option>
            </select>
          </div>
          <a href="{{ url_for('dashboard') }}" class="popup-btn" data-en="üè† Home" data-ur="üè† €ÅŸàŸÖ" data-hi="üè† ‡§π‡•ã‡§Æ">üè† Home</a>
          <button onclick="toggleMode()" class="popup-btn" data-en="üåô Change Mode" data-ur="üåô ŸÖŸà⁄à ÿ™ÿ®ÿØ€åŸÑ ⁄©ÿ±€å⁄∫" data-hi="üåô ‡§Æ‡•ã‡§° ‡§¨‡§¶‡§≤‡•á‡§Ç">üåô Change Mode</button>
          <form action="{{ url_for('logout') }}" method="POST" style="margin:0;">
            <button type="submit" class="popup-btn" data-en="üö™ Logout" data-ur="üö™ ŸÑÿß⁄Ø ÿ¢ÿ§Ÿπ" data-hi="üö™ ‡§≤‡•â‡§ó ‡§Ü‡§â‡§ü">üö™ Logout</button>
          </form>
        </div>
      </div>
    </div>
  </header>

  <main>
    <h2 data-en="My Journal" data-ur="ŸÖ€åÿ±ÿß ÿ¨ÿ±ŸÜŸÑ" data-hi="‡§Æ‡•á‡§∞‡§æ ‡§ú‡§∞‡•ç‡§®‡§≤">My Journal</h2>
    <div class="tab-container">
      <button id="tab-journal" class="tab active" onclick="switchTab('journal')" data-en="Journaling" data-ur="ÿ¨ÿ±ŸÜŸÑŸÜ⁄Ø" data-hi="‡§ú‡§∞‡•ç‡§®‡§≤‡§ø‡§Ç‡§ó">Journaling</button>
      <button id="tab-prompts" class="tab" onclick="switchTab('prompts')" data-en="Journaling Prompts" data-ur="ÿ¨ÿ±ŸÜŸÑ Ÿæÿ±ÿßŸÖŸæŸπÿ≥" data-hi="‡§ú‡§∞‡•ç‡§®‡§≤ ‡§™‡•ç‡§∞‡•â‡§Æ‡•ç‡§™‡•ç‡§ü‡•ç‡§∏">Journaling Prompts</button>
    </div>

    <!-- Journaling Tab -->
<div id="journal-tab">
  <p data-en="üñäÔ∏è Journaling is one of those simple habits that can have surprisingly big benefits for your mind, emotions, and even productivity. Take a few minutes to write your thoughts and reflect!"
     data-ur="üñäÔ∏è ÿ¨ÿ±ŸÜŸÑŸÜ⁄Ø ÿß€å⁄© ÿ¢ÿ≥ÿßŸÜ ÿπÿßÿØÿ™ €Å€í ÿ¨Ÿà ÿ¢Ÿæ ⁄©€í ÿØŸÖÿßÿ∫ÿå ÿ¨ÿ∞ÿ®ÿßÿ™ ÿßŸàÿ± ÿ≠ÿ™€åŸ∞ ⁄©€Å Ÿæ€åÿØÿßŸàÿßÿ±€åÿ™ ⁄©€í ŸÑ€å€í ÿ≠€åÿ±ÿ™ ÿßŸÜ⁄Ø€åÿ≤ ŸÅŸàÿßÿ¶ÿØ ŸÑÿß ÿ≥⁄©ÿ™€å €Å€í€î ÿßŸæŸÜ€í ÿÆ€åÿßŸÑÿßÿ™ ŸÑ⁄©⁄æŸÜ€í ⁄©€í ŸÑ€å€í ⁄ÜŸÜÿØ ŸÖŸÜŸπ ŸÜ⁄©ÿßŸÑ€å⁄∫!"
     data-hi="üñäÔ∏è ‡§ú‡§∞‡•ç‡§®‡§≤‡§ø‡§Ç‡§ó ‡§è‡§ï ‡§∏‡§∞‡§≤ ‡§Ü‡§¶‡§§ ‡§π‡•à ‡§ú‡•ã ‡§Ü‡§™‡§ï‡•á ‡§Æ‡§®, ‡§≠‡§æ‡§µ‡§®‡§æ‡§ì‡§Ç ‡§î‡§∞ ‡§â‡§§‡•ç‡§™‡§æ‡§¶‡§ï‡§§‡§æ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§¨‡§°‡§º‡•á ‡§´‡§æ‡§Ø‡§¶‡•á ‡§≤‡§æ ‡§∏‡§ï‡§§‡•Ä ‡§π‡•à‡•§ ‡§ï‡•Å‡§õ ‡§Æ‡§ø‡§®‡§ü ‡§®‡§ø‡§ï‡§æ‡§≤‡•á‡§Ç ‡§î‡§∞ ‡§Ö‡§™‡§®‡•á ‡§µ‡§ø‡§ö‡§æ‡§∞ ‡§≤‡§ø‡§ñ‡•á‡§Ç!">
     üñäÔ∏è Journaling is one of those simple habits that can have surprisingly big benefits for your mind, emotions, and even productivity. Take a few minutes to write your thoughts and reflect!
  </p>
  <input type="text" id="title-input" placeholder="Entry title" 
         data-en="Entry title" data-ur="ÿßŸÜÿØÿ±ÿßÿ¨ ⁄©ÿß ÿπŸÜŸàÿßŸÜ" data-hi="‡§™‡•ç‡§∞‡§µ‡§ø‡§∑‡•ç‡§ü‡§ø ‡§∂‡•Ä‡§∞‡•ç‡§∑‡§ï">
  <textarea id="content" placeholder="Write your thoughts..." 
            data-en="Write your thoughts..." data-ur="ÿßŸæŸÜ€í ÿÆ€åÿßŸÑÿßÿ™ ŸÑ⁄©⁄æ€å⁄∫..." data-hi="‡§Ö‡§™‡§®‡•á ‡§µ‡§ø‡§ö‡§æ‡§∞ ‡§≤‡§ø‡§ñ‡•á‡§Ç..."></textarea>
  <button onclick="saveEntry()" data-en="Save Entry" data-ur="ÿßŸÜÿØÿ±ÿßÿ¨ ŸÖÿ≠ŸÅŸàÿ∏ ⁄©ÿ±€å⁄∫" data-hi="‡§™‡•ç‡§∞‡§µ‡§ø‡§∑‡•ç‡§ü‡§ø ‡§∏‡§π‡•á‡§ú‡•á‡§Ç">Save Entry</button>
  <h3 data-en="Your Entries" data-ur="ÿ¢Ÿæ ⁄©€í ÿßŸÜÿØÿ±ÿßÿ¨ÿßÿ™" data-hi="‡§Ü‡§™‡§ï‡•Ä ‡§™‡•ç‡§∞‡§µ‡§ø‡§∑‡•ç‡§ü‡§ø‡§Ø‡§æ‡§Å">Your Entries</h3>
  <div class="tiles" id="entries"></div>
</div>

<!-- Prompts Tab (hidden by default) -->
<div id="prompts-tab" style="display:none;">
  <div class="prompt-card">
    <h4 data-en="1. üß† Self-discovery and reflection:" 
        data-ur="1. üß† ÿÆŸàÿØ ÿ¥ŸÜÿßÿ≥€å ÿßŸàÿ± ÿ∫Ÿàÿ± Ÿà ŸÅ⁄©ÿ±:" 
        data-hi="1. üß† ‡§Ü‡§§‡•ç‡§Æ-‡§ñ‡•ã‡§ú ‡§î‡§∞ ‡§ö‡§ø‡§Ç‡§§‡§®:">
        1. üß† Self-discovery and reflection:
    </h4>
    <ul>
      <li data-en="What values do you consider most important in life, and how do your actions align with them?"
          data-ur="ÿ≤ŸÜÿØ⁄Ø€å ŸÖ€å⁄∫ ÿ¢Ÿæ ⁄©ŸÜ ÿßŸÇÿØÿßÿ± ⁄©Ÿà ÿ≥ÿ® ÿ≥€í ÿ≤€åÿßÿØ€Å ÿß€ÅŸÖ ÿ≥ŸÖÿ¨⁄æÿ™€í €Å€å⁄∫ÿå ÿßŸàÿ± ÿ¢Ÿæ ⁄©€í ÿßÿπŸÖÿßŸÑ ÿßŸÜ ⁄©€í ŸÖÿ∑ÿßÿ®ŸÇ ⁄©ÿ≥ ÿ∑ÿ±ÿ≠ €Å€å⁄∫ÿü"
          data-hi="‡§Ü‡§™ ‡§ú‡•Ä‡§µ‡§® ‡§Æ‡•á‡§Ç ‡§ï‡§ø‡§® ‡§Æ‡•Ç‡§≤‡•ç‡§Ø‡•ã‡§Ç ‡§ï‡•ã ‡§∏‡§¨‡§∏‡•á ‡§Æ‡§π‡§§‡•ç‡§µ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§Æ‡§æ‡§®‡§§‡•á ‡§π‡•à‡§Ç, ‡§î‡§∞ ‡§Ü‡§™‡§ï‡•á ‡§ï‡§æ‡§∞‡•ç‡§Ø ‡§â‡§®‡§∏‡•á ‡§ï‡•à‡§∏‡•á ‡§Æ‡•á‡§≤ ‡§ñ‡§æ‡§§‡•á ‡§π‡•à‡§Ç?">
          What values do you consider most important in life, and how do your actions align with them?
      </li>
      <li data-en="What is one thing that holds you back from being your best self?"
          data-ur="Ÿà€Å ⁄©ŸàŸÜ ÿ≥€å ⁄Ü€åÿ≤ €Å€í ÿ¨Ÿà ÿ¢Ÿæ ⁄©Ÿà ÿßŸæŸÜ€í ÿ®€Åÿ™ÿ±€åŸÜ ŸÜŸÅÿ≥ ÿ®ŸÜŸÜ€í ÿ≥€í ÿ±Ÿà⁄©ÿ™€å €Å€íÿü"
          data-hi="‡§ê‡§∏‡•Ä ‡§è‡§ï ‡§ö‡•Ä‡§ú‡§º ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à ‡§ú‡•ã ‡§Ü‡§™‡§ï‡•ã ‡§Ö‡§™‡§®‡•á ‡§∏‡§∞‡•ç‡§µ‡§∂‡•ç‡§∞‡•á‡§∑‡•ç‡§† ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§∞‡•ã‡§ï‡§§‡•Ä ‡§π‡•à?">
          What is one thing that holds you back from being your best self?
      </li>
      <li data-en="If you could give your younger self one piece of advice, what would it be?"
          data-ur="ÿß⁄Øÿ± ÿ¢Ÿæ ÿßŸæŸÜ€í ⁄Ü⁄æŸàŸπ€í ŸÜŸÅÿ≥ ⁄©Ÿà ÿß€å⁄© ŸÖÿ¥Ÿàÿ±€Å ÿØ€í ÿ≥⁄©ÿ™€í ÿ™Ÿà Ÿà€Å ⁄©€åÿß €ÅŸàÿ™ÿßÿü"
          data-hi="‡§Ö‡§ó‡§∞ ‡§Ü‡§™ ‡§Ö‡§™‡§®‡•á ‡§õ‡•ã‡§ü‡•á ‡§∏‡•ç‡§µ‡§Ø‡§Ç ‡§ï‡•ã ‡§è‡§ï ‡§∏‡§≤‡§æ‡§π ‡§¶‡•á ‡§∏‡§ï‡§§‡•á, ‡§§‡•ã ‡§µ‡§π ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•ã‡§§‡•Ä?">
          If you could give your younger self one piece of advice, what would it be?
      </li>
    </ul>
  </div>

  <div class="prompt-card">
    <h4 data-en="2. üåÖ Daily and mindfulness:" 
        data-ur="2. üåÖ ÿ±Ÿàÿ≤ÿßŸÜ€Å ÿßŸàÿ± ÿ∞€ÅŸÜ ÿ≥ÿßÿ≤€å:" 
        data-hi="2. üåÖ ‡§¶‡•à‡§®‡§ø‡§ï ‡§î‡§∞ ‡§Æ‡§æ‡§á‡§Ç‡§°‡§´‡•Å‡§≤‡§®‡•á‡§∏:">
        2. üåÖ Daily and mindfulness:
    </h4>
    <ul>
      <li data-en="Write 3 things you are grateful for and why?"
          data-ur="ÿ™€åŸÜ ⁄Ü€åÿ≤€å⁄∫ ŸÑ⁄©⁄æ€å⁄∫ ÿ¨ŸÜ ⁄©€í ŸÑ€å€í ÿ¢Ÿæ ÿ¥⁄©ÿ± ⁄Øÿ≤ÿßÿ± €Å€å⁄∫ ÿßŸàÿ± ⁄©€åŸà⁄∫ÿü"
          data-hi="3 ‡§ö‡•Ä‡§ú‡•á‡§Ç ‡§≤‡§ø‡§ñ‡•á‡§Ç ‡§ú‡§ø‡§®‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ü‡§™ ‡§Ü‡§≠‡§æ‡§∞‡•Ä ‡§π‡•à‡§Ç ‡§î‡§∞ ‡§ï‡•ç‡§Ø‡•ã‡§Ç?">
          Write 3 things you are grateful for and why?
      </li>
      <li data-en="What happened today that brought you joy or contentment?"
          data-ur="ÿ¢ÿ¨ ⁄©€åÿß €ÅŸàÿß ÿ¨ÿ≥ ŸÜ€í ÿ¢Ÿæ ⁄©Ÿà ÿÆŸàÿ¥€å €åÿß ÿßÿ∑ŸÖ€åŸÜÿßŸÜ ÿØ€åÿßÿü"
          data-hi="‡§Ü‡§ú ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•Å‡§Ü ‡§ú‡§ø‡§∏‡§®‡•á ‡§Ü‡§™‡§ï‡•ã ‡§ñ‡•Å‡§∂‡•Ä ‡§Ø‡§æ ‡§∏‡§Ç‡§§‡•ã‡§∑ ‡§¶‡§ø‡§Ø‡§æ?">
          What happened today that brought you joy or contentment?
      </li>
    </ul>
  </div>

  <div class="prompt-card">
    <h4 data-en="3. üéØ Goals and aspirations:" 
        data-ur="3. üéØ ŸÖŸÇÿßÿµÿØ ÿßŸàÿ± ÿ™ŸÖŸÜÿßÿ¶€å⁄∫:" 
        data-hi="3. üéØ ‡§≤‡§ï‡•ç‡§∑‡•ç‡§Ø ‡§î‡§∞ ‡§Ü‡§ï‡§æ‡§Ç‡§ï‡•ç‡§∑‡§æ‡§è‡§Å:">
        3. üéØ Goals and aspirations:
    </h4>
    <ul>
      <li data-en="Describe what your life looks like 5 years from now."
          data-ur="ÿßŸæŸÜ€å ÿ≤ŸÜÿØ⁄Ø€å ⁄©Ÿà ŸæÿßŸÜ⁄Ü ÿ≥ÿßŸÑ ÿ®ÿπÿØ ⁄©€åÿ≥€å ŸÜÿ∏ÿ± ÿ¢ÿ™€å €Å€í ÿ®€åÿßŸÜ ⁄©ÿ±€å⁄∫€î"
          data-hi="5 ‡§∏‡§æ‡§≤ ‡§¨‡§æ‡§¶ ‡§Ü‡§™‡§ï‡•Ä ‡§ú‡§º‡§ø‡§Ç‡§¶‡§ó‡•Ä ‡§ï‡•à‡§∏‡•Ä ‡§¶‡§ø‡§ñ‡§§‡•Ä ‡§π‡•à, ‡§á‡§∏‡§ï‡§æ ‡§µ‡§∞‡•ç‡§£‡§® ‡§ï‡§∞‡•á‡§Ç‡•§">
          Describe what your life looks like 5 years from now.
      </li>
      <li data-en="What is a goal you are afraid to pursue, and what is holding you back?"
          data-ur="Ÿà€Å ⁄©ŸàŸÜ ÿ≥ÿß ŸÖŸÇÿµÿØ €Å€í ÿ¨ÿ≥€í ÿ≠ÿßÿµŸÑ ⁄©ÿ±ŸÜ€í ÿ≥€í ÿ¢Ÿæ ⁄àÿ±ÿ™€í €Å€å⁄∫ÿå ÿßŸàÿ± ÿ¢Ÿæ ⁄©Ÿà ⁄©€åÿß ÿ±Ÿà⁄©ÿ™ÿß €Å€íÿü"
          data-hi="‡§ê‡§∏‡§æ ‡§ï‡•å‡§® ‡§∏‡§æ ‡§≤‡§ï‡•ç‡§∑‡•ç‡§Ø ‡§π‡•à ‡§ú‡§ø‡§∏‡•á ‡§™‡§æ‡§®‡•á ‡§∏‡•á ‡§Ü‡§™ ‡§°‡§∞‡§§‡•á ‡§π‡•à‡§Ç, ‡§î‡§∞ ‡§Ü‡§™‡§ï‡•ã ‡§ï‡•ç‡§Ø‡§æ ‡§∞‡•ã‡§ï‡§§‡§æ ‡§π‡•à?">
          What is a goal you are afraid to pursue, and what is holding you back?
      </li>
      <li data-en="What would you do with your life if money or the opinions of others were no concern?"
          data-ur="ÿß⁄Øÿ± Ÿæ€åÿ≥€í €åÿß ÿØŸàÿ≥ÿ±Ÿà⁄∫ ⁄©€å ÿ±ÿßÿ¶€í ⁄©Ÿàÿ¶€å ŸÖÿ≥ÿ¶ŸÑ€Å ŸÜ€Å €ÅŸàÿ™€å ÿ™Ÿà ÿ¢Ÿæ ÿßŸæŸÜ€å ÿ≤ŸÜÿØ⁄Ø€å ⁄©€í ÿ≥ÿßÿ™⁄æ ⁄©€åÿß ⁄©ÿ±ÿ™€íÿü"
          data-hi="‡§Ö‡§ó‡§∞ ‡§™‡•à‡§∏‡•á ‡§Ø‡§æ ‡§¶‡•Ç‡§∏‡§∞‡•ã‡§Ç ‡§ï‡•Ä ‡§∞‡§æ‡§Ø ‡§ï‡•Ä ‡§™‡§∞‡§µ‡§æ‡§π ‡§®‡§π‡•Ä‡§Ç ‡§π‡•ã‡§§‡•Ä, ‡§§‡•ã ‡§Ü‡§™ ‡§Ö‡§™‡§®‡•Ä ‡§ú‡§º‡§ø‡§Ç‡§¶‡§ó‡•Ä ‡§ï‡•á ‡§∏‡§æ‡§• ‡§ï‡•ç‡§Ø‡§æ ‡§ï‡§∞‡§§‡•á?">
          What would you do with your life if money or the opinions of others were no concern?
      </li>
      <li data-en="What steps can you take today to move closer to a current goal?"
          data-ur="ÿ¢ÿ¨ ÿ¢Ÿæ ⁄©ŸàŸÜ ÿ≥€í ÿßŸÇÿØÿßŸÖÿßÿ™ ⁄©ÿ± ÿ≥⁄©ÿ™€í €Å€å⁄∫ ÿ™ÿß⁄©€Å ÿßŸæŸÜ€í ŸÖŸàÿ¨ŸàÿØ€Å ŸÖŸÇÿµÿØ ⁄©€í ŸÇÿ±€åÿ® €ÅŸà ÿ≥⁄©€å⁄∫ÿü"
          data-hi="‡§Ü‡§ú ‡§Ü‡§™ ‡§ï‡•å‡§® ‡§∏‡•á ‡§ï‡§¶‡§Æ ‡§â‡§†‡§æ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç ‡§§‡§æ‡§ï‡§ø ‡§Ö‡§™‡§®‡•á ‡§µ‡§∞‡•ç‡§§‡§Æ‡§æ‡§® ‡§≤‡§ï‡•ç‡§∑‡•ç‡§Ø ‡§ï‡•á ‡§ï‡§∞‡•Ä‡§¨ ‡§™‡§π‡•Å‡§Å‡§ö ‡§∏‡§ï‡•á‡§Ç?">
          What steps can you take today to move closer to a current goal?
      </li>
    </ul>
  </div>

  <div class="prompt-card">
    <h4 data-en="4. üí™ Overcoming challenges:" 
        data-ur="4. üí™ ⁄Ü€åŸÑŸÜÿ¨ÿ≤ Ÿæÿ± ŸÇÿßÿ®Ÿà ŸæÿßŸÜÿß:" 
        data-hi="4. üí™ ‡§ö‡•Å‡§®‡•å‡§§‡§ø‡§Ø‡•ã‡§Ç ‡§™‡§∞ ‡§ï‡§æ‡§¨‡•Ç ‡§™‡§æ‡§®‡§æ:">
        4. üí™ Overcoming challenges:
    </h4>
    <ul>
      <li data-en="What is currently causing you stress, and what can you do about it?"
          data-ur="ÿßÿ≥ ŸàŸÇÿ™ ⁄©ŸàŸÜ ÿ≥€å ⁄Ü€åÿ≤ ÿ¢Ÿæ ⁄©Ÿà ÿØÿ®ÿßÿ§ ŸÖ€å⁄∫ ⁄àÿßŸÑ ÿ±€Å€å €Å€íÿå ÿßŸàÿ± ÿ¢Ÿæ ÿßÿ≥ ⁄©€í ÿ®ÿßÿ±€í ŸÖ€å⁄∫ ⁄©€åÿß ⁄©ÿ± ÿ≥⁄©ÿ™€í €Å€å⁄∫ÿü"
          data-hi="‡§á‡§∏ ‡§∏‡§Æ‡§Ø ‡§ï‡•ç‡§Ø‡§æ ‡§ö‡•Ä‡§ú‡§º ‡§Ü‡§™‡§ï‡•ã ‡§§‡§®‡§æ‡§µ ‡§¶‡•á ‡§∞‡§π‡•Ä ‡§π‡•à, ‡§î‡§∞ ‡§Ü‡§™ ‡§á‡§∏‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§ï‡•ç‡§Ø‡§æ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç?">
          What is currently causing you stress, and what can you do about it?
      </li>
      <li data-en="Write about a mistake that taught you something important about yourself."
          data-ur="ÿß€å⁄© ÿß€åÿ≥€å ÿ∫ŸÑÿ∑€å ⁄©€í ÿ®ÿßÿ±€í ŸÖ€å⁄∫ ŸÑ⁄©⁄æ€å⁄∫ ÿ¨ÿ≥ ŸÜ€í ÿ¢Ÿæ ⁄©Ÿà ÿßŸæŸÜ€í ÿ®ÿßÿ±€í ŸÖ€å⁄∫ ⁄©⁄Ü⁄æ ÿß€ÅŸÖ ÿ≥⁄©⁄æÿß€åÿß€î"
          data-hi="‡§ê‡§∏‡•Ä ‡§ó‡§≤‡§§‡•Ä ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§≤‡§ø‡§ñ‡•á‡§Ç ‡§ú‡§ø‡§∏‡§®‡•á ‡§Ü‡§™‡§ï‡•ã ‡§Ö‡§™‡§®‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§ï‡•Å‡§õ ‡§Æ‡§π‡§§‡•ç‡§µ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§∏‡§ø‡§ñ‡§æ‡§Ø‡§æ‡•§">
          Write about a mistake that taught you something important about yourself.
      </li>
      <li data-en="Describe a time you failed and got back up."
          data-ur="ÿß€åÿ≥ÿß ŸàŸÇÿ™ ÿ®€åÿßŸÜ ⁄©ÿ±€å⁄∫ ÿ¨ÿ® ÿ¢Ÿæ ŸÜÿß⁄©ÿßŸÖ €ÅŸàÿ¶€í ŸÑ€å⁄©ŸÜ ÿØŸàÿ®ÿßÿ±€Å ⁄©⁄æ⁄ë€í €ÅŸà ⁄Øÿ¶€í€î"
          data-hi="‡§ê‡§∏‡§æ ‡§∏‡§Æ‡§Ø ‡§¨‡§§‡§æ‡§á‡§è ‡§ú‡§¨ ‡§Ü‡§™ ‡§Ö‡§∏‡§´‡§≤ ‡§π‡•Å‡§è ‡§≤‡•á‡§ï‡§ø‡§® ‡§´‡§ø‡§∞ ‡§â‡§† ‡§ñ‡§°‡§º‡•á ‡§π‡•Å‡§è‡•§">
          Describe a time you failed and got back up.
      </li>
    </ul>
  </div>
</div>

  </main>

  <div id="popup">
    <h3 id="popup-title"></h3>
    <p id="popup-content"></p>
    <div style="margin-top:15px; display:flex; gap:10px; justify-content:flex-end;">
      <button onclick="deleteEntry()" style="background:#b33a3a;" data-en="Delete" data-ur="ÿ≠ÿ∞ŸÅ ⁄©ÿ±€å⁄∫" data-hi="‡§π‡§ü‡§æ‡§è‡§Ç">Delete</button>
      <button onclick="closePopup()" data-en="Close" data-ur="ÿ®ŸÜÿØ ⁄©ÿ±€å⁄∫" data-hi="‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•á‡§Ç">Close</button>
    </div>
  </div>

  <footer style="background:#7B9B8B; color:white; text-align:center; padding:15px; margin-top:30px;">
    <p data-en="¬© 2025 SoulAce. All rights reserved." data-ur="¬© 2025 ÿ≥ŸàŸÑ ÿß€åÿ≥€î ÿ¨ŸÖŸÑ€Å ÿ≠ŸÇŸàŸÇ ŸÖÿ≠ŸÅŸàÿ∏ €Å€å⁄∫€î" data-hi="¬© 2025 SoulAce. ‡§∏‡§∞‡•ç‡§µ‡§æ‡§ß‡§ø‡§ï‡§æ‡§∞ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§‡•§">¬© 2025 SoulAce. All rights reserved.</p>
  </footer>

  <script>
    let currentEntry = null;

    function toggleUserPopup() {
      const popup = document.getElementById("user-popup");
      popup.style.display = (popup.style.display === "block") ? "none" : "block";
    }

    function toggleMode() { document.body.classList.toggle("dark"); }

    function switchTab(tab) {
      document.getElementById("journal-tab").style.display = (tab==='journal')?'block':'none';
      document.getElementById("prompts-tab").style.display = (tab==='prompts')?'block':'none';
      document.getElementById("tab-journal").classList.toggle('active', tab==='journal');
      document.getElementById("tab-prompts").classList.toggle('active', tab==='prompts');
    }

    const textarea = document.getElementById("content");
    textarea.addEventListener("input", autoResize, false);
    function autoResize() {
      this.style.height = 'auto';
      this.style.height = this.scrollHeight + 'px';
    }

    async function saveEntry() {
      const title = document.getElementById("title-input").value.trim();
      const content = textarea.value.trim();
      if (!title || !content) { alert("Please add a title and content."); return; }

      const now = new Date();
      const date = now.toLocaleDateString();
      const time = now.toLocaleTimeString();

      await fetch("/add_journal", {
        method: "POST",
        headers: {"Content-Type":"application/json"},
        body: JSON.stringify({title, content, date, time})
      });
      textarea.value = "";
      document.getElementById("title-input").value = "";
      autoResize.call(textarea);
      loadEntries();
    }

    async function loadEntries() {
      const res = await fetch(`/get_journals/{{ username }}`);
      const data = await res.json();
      const container = document.getElementById("entries");
      container.innerHTML = "";

      data.forEach(entry => {
        const tile = document.createElement("div");
        tile.className = "tile";
        tile.innerHTML = `<strong>${entry.title}</strong><br>${entry.date} ${entry.time}<br>${entry.content.substring(0,60)}...`;
        tile.onclick = () => openPopup(entry);
        container.appendChild(tile);
      });
    }

    function openPopup(entry) {
      currentEntry = entry;
      document.getElementById("popup-title").innerText = entry.title + " (" + entry.date + " " + entry.time + ")";
      document.getElementById("popup-content").innerText = entry.content;
      document.getElementById("popup").style.display = "block";
    }

    function closePopup() { document.getElementById("popup").style.display="none"; currentEntry=null; }

    async function deleteEntry() {
      if (!currentEntry) return;
      if (!confirm("Are you sure you want to delete this entry?")) return;
      await fetch(`/delete_journal/${currentEntry.id}`, {method:"DELETE"});
      closePopup();
      loadEntries();
    }

    // Language switcher
    const langSelect=document.getElementById('lang-select');
    langSelect.addEventListener('change', ()=>{
      const lang=langSelect.value;
      document.querySelectorAll('[data-en]').forEach(el=>{
        if(el.tagName==="INPUT"||el.tagName==="TEXTAREA"){
          el.placeholder=el.getAttribute('data-'+lang);
        } else {
          el.textContent=el.getAttribute('data-'+lang);
        }
      });
    });

    loadEntries();
  </script>
</body>
</html>

